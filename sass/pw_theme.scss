/**
 * Custom styles.
 */

@import "base";

html {
  box-sizing: border-box;
  font-size: $font-size;
}

*,
*:before,
*:after {
  box-sizing: inherit;
}

body {
  @include fsize($font-size);

  background: #fff;
  color: $text;
  font-family: $sans-serif;
}

/*** Miscellaneous ***/
a {
  color: $link;
  text-decoration: underline;

  @include hover {
    text-decoration: none;
  }

  &.button {
    text-decoration: none;

    @include hover {
      background-color: $link;
      border-color: $link;
      color: #fff;
    }
  }
}

blockquote {
  background-color: transparent;
  border-left: none;
  font-family: $serif;
  font-style: italic;
  margin: 1.5em 2em;
  padding: 0 0 0 3em;
  position: relative;
  width: auto;

  &:before {
    @include fsize(5em, 1em);

    color: lighten($text, 80%);
    content: open-quote;
    font-style: normal;
    left: 0;
    position: absolute;
  }

  &:after {
    content: no-close-quote;
  }

  * {
    @include fsize(1em);
  }
}

.breadcrumb {
  @include fsize(0.95em);

  padding-bottom: 0;

  li {
    &:after {
      background: none;
      content: normal;
      display: inline;
      height: auto;
      padding: 0;
      vertical-align: baseline;
      width: auto;
    }
  }
}

code,
kbd,
pre,
samp {
  font-family: $mono;
}

.element-focusable {
  @include element-focusable;
}

.element-invisible {
  @include element-invisible;
}

h1, h2, h3, h4, h5, h6 {
  margin: 1em 0;
}

h1 {
  @include fsize(2em, 1.2em);
}

h2 {
  @include fsize(1.5em, 1.3em);
}

h3 {
  @include fsize(1.25em, 1.3em);
}

h4 {
  @include fsize(1.125em, 1.3em);
}

h5 {
  @include fsize(1em, 1.3em);
}

h6 {
  @include fsize(0.875em, 1.4em);
}

img {
  vertical-align: bottom;

  &.file-icon {
    vertical-align: middle;
  }
}

.layout {
  margin: 0;
}

.more-help-link,
.more-link {
  @include fsize(0.9em);
}

p {
  line-height: $line-height;
  margin: 0 0 1em;
}

.page-title {
  @include fsize(2em, 1.2em);

  color: $text;
  margin: 0 0 0.5em 0;
}

/*** Blocks ***/
.block {
  clear: none;
  content: normal;
  display: block;
  width: auto;
}

.block-system-header {
  .block-content {
    display: flex;
  }

  .logo {
    margin-right: 1em;
  }

  .name-and-slogan {
    float: none;
  }

  .site-name {
    @include fsize(2em);

    font-weight: bold;

    a {
      text-decoration: none;
    }
  }
}

/*** Comments ***/
#comments {
  .indented {
    margin-left: 2em;
  }
}

/*** Forms ***/
.dropbutton {
  a {
    text-decoration: none;
  }
}

fieldset {
  .js &.collapsed {
    padding: 1.4em 0;

    .fieldset-legend {
      a:before {
        top: 0.65em;
      }
    }
  }
}

.filter-wrapper {
  border-top-left-radius: 0;
  border-top-right-radius: 0;
  margin: -1em 0 1em;

  .fieldset-legend {
    margin-top: 0.5em;
  }
}

.form-type-radio,
.form-type-checkbox {
  .description {
    margin-left: 1.7em !important;
  }
}

.resizable-textarea {
  .grippie {
    display: none;
  }
}

/*** Menus ***/
.block-system-main-menu {
  ul.menu-dropdown {
    list-style-type: none;
    margin: 0;

    li {
      float: none;
      list-style-type: none;

      a {
        color: $link;
        margin-right: 1em;
        line-height: $line-height;
        padding: 0.2em 0.5em;

        @include hover {
          line-height: $line-height;
          padding-right: 0.5em;
        }

        &.highlighted {
          background: transparent;
        }

        &.has-submenu {
          padding-right: 1.5em;

          .sub-arrow {
            border-top-color: $link;
            border-width: 5px;
            right: 0.5em;
          }

          @include hover {
            .sub-arrow {
              border-top-color: $link;
            }
          }
        }
      }

      &.last {
        a {
          margin-right: 0;
        }
      }

      ul {
        background: transparent;
        border: none;

        a {
          margin-right: 0;

          @include hover {
            background: transparent;
          }

          &.has-submenu {
            .sub-arrow {
              border-left-color: $link;
              border-top-color: transparent;
              right: 0.25em;
            }

            @include hover {
              .sub-arrow {
                border-left-color: $link;
                border-top-color: transparent;
              }
            }
          }
        }
      }
    }

    @include max(700px) {
      flex-direction: column;

      li {
        a {
          margin-right: 0;
          padding: 0.5em;

          &.has-submenu {
            padding-right: 3em;

            .sub-arrow {
              height: 2.5em;
              line-height: 2.5em !important;
              margin-top: -1.25em;
              right: 0;
              width: 2.5em;
            }
          }
        }

        ul {
          a {
            padding-left: 1em;
          }
        }
      }
    }
  }

  .menu-toggle-button {
    display: block;
    padding: 0.2em 0;
  }
}

/*** Messages ***/
div.error {
  background-color: lighten($red, 90%);
  color: $red;

  &:before {
    background-color: $red;
  }
}

div.status {
  background-color: lighten($green, 90%);
  color: $green;

  &:before {
    background-color: $green;
  }
}

div.warning {
  background-color: lighten($yellow, 70%);
  color: $grey;

  &:before {
    background-color: $yellow;
  }
}

/*** Pager ***/
.item-list .pager {
  li.pager-current {
    min-width: 40px;
  }

  a {
    min-width: 40px;
    text-decoration: none;
  }
}

/*** Tabs ***/
ul.primary li {
  border-color: #fff;
}

ul.primary li.active a,
ul.primary li.active a.active,
ul.primary li.active a:active,
ul.primary li.active a:visited,
.responsive-tabs-mobile .expand-dropdown-tabs-label {
  background-color: lighten($grey, 90%);
}

ul.secondary {
  background-color: lighten($grey, 90%);
}

