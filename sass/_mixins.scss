/**
 * Custom Sass mixins & functions.
 */

// Make an element visually hidden, but accessible.
@mixin element-invisible {
  clip: rect(1px, 1px, 1px, 1px);
  height: 1px;
  overflow: hidden;
  position: absolute !important;
  width: 1px;
}

// Turn off the element-invisible effect.
@mixin element-invisible-off {
  clip: auto;
  height: auto;
  overflow: auto;
  position: static !important;
  width: auto;
}

// Make an element visually hidden by default, but visible when focused.
@mixin element-focusable {
  @include element-invisible;

  &:active,
  &:focus {
    @include element-invisible-off;
  }
}

// Change font size while keeping relative line-height.
@mixin fsize($size, $new-line-height: $line-height) {
  @if unit($size) == 'px' {
    font-size: $size / $font-size * 1em;
  }
  @else {
    font-size: $size;
  }

  line-height: $new-line-height;
}

// Hover, active, focus states.
@mixin hover {
  &:hover,
  &:active,
  &:focus,
  &.active,
  &.active-trail {
    @content;
  }
}

// Lighten or darken colours.
@function lighten($color, $amount) {
  @return scale-color($color, $lightness: $amount);
}

// Max-width media query.
@mixin max($width) {
  @media screen and (max-width: $width) {
    @content;
  }
}

// Min-width media query.
@mixin min($width) {
  @media screen and (min-width: $width) {
    @content;
  }
}

